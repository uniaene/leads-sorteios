# ===========================
# UNIAENE - Configuração otimizada
# ===========================

# Arquivo padrão
DirectoryIndex index.php

# Segurança: sem listagem de diretórios
Options -Indexes

# Bloqueia IPs suspeitos (uso individual)
<RequireAll>
    Require all granted
    Require not ip 66.249.66.37
    Require not ip 66.249.66.38
    Require not ip 52.149.22.91
    Require not ip 52.167.144.23
    Require not ip 144.126.222.97
    Require not ip 66.249.66.39
    Require not ip 40.77.167.55
    Require not ip 52.167.144.22
    Require not ip 66.249.66.1
</RequireAll>

# Cache de arquivos estáticos
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType text/css "access plus 30 days"
  ExpiresByType application/javascript "access plus 30 days"
  ExpiresByType image/png "access plus 30 days"
  ExpiresByType image/jpeg "access plus 30 days"
  ExpiresByType image/svg+xml "access plus 30 days"
  ExpiresByType image/x-icon "access plus 30 days"
  ExpiresByType font/woff2 "access plus 30 days"
</IfModule>

# Reescrita (ative apenas se necessário)
<IfModule mod_rewrite.c>
    RewriteEngine On
    #RewriteBase /

    # Se quiser MVC, ative abaixo:
    #RewriteCond %{REQUEST_FILENAME} !-f
    #RewriteCond %{REQUEST_FILENAME} !-d
    #RewriteRule ^(.*)$ index.php?_url=/$1 [QSA,L]
</IfModule>

# Bloqueia extensões perigosas
<FilesMatch "\.(alfa|pl|sh|bash|php~|bak)$">
    Require all denied
</FilesMatch>

# Compactação GZIP
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css text/javascript application/javascript application/json
</IfModule>